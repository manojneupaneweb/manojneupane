<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Manoj Neupane</title>
  <link rel="shortcut icon" href="/img/logo.png" type="image/x-icon">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
  <link rel="stylesheet" href="/style.css" />
</head>

<body class="flex">
  <header class="lg:hidden fixed top-3 right-3 z-50">
    <button id="menuBtn" class="text-2xl text-black bg-white py-1 px-2 rounded shadow">
      <i class="fa-solid fa-bars"></i>
    </button>
  </header>

  <div id="sidebar"
    class="fixed lg:static top-0 left-0 w-64 lg:w-1/4 min-h-screen bg-gray-900 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 z-40">
    <%- include('partials/navbar') %>
  </div>

  <main class="flex-1 lg:w-3/4 h-screen overflow-y-auto lg:mt-0">
    <%- include('home') %>
      <%- include('about') %>
        <%- include('skills') %>
          <%- include('services') %>
            <%- include('projects') %>
              <%- include('contact') %>
                <%- include('partials/footer') %>
  </main>

  <script>
    const menuBtn = document.getElementById("menuBtn");
    const menuIcon = menuBtn.querySelector("i");
    const sidebar = document.getElementById("sidebar");
    const navLinks = document.querySelectorAll("#sidebar a");

    menuBtn.addEventListener("click", () => {
      sidebar.classList.toggle("-translate-x-full");
      menuIcon.classList.toggle("fa-bars");
      menuIcon.classList.toggle("fa-xmark");
    });

    navLinks.forEach(link => {
      link.addEventListener("click", e => {
        const targetId = link.getAttribute("href");
        if (targetId && targetId.startsWith("#")) {
          e.preventDefault();
          document.querySelector(targetId).scrollIntoView({ behavior: "smooth" });
        }
        if (window.innerWidth < 1024) {
          sidebar.classList.add("-translate-x-full");
          menuIcon.classList.remove("fa-xmark");
          menuIcon.classList.add("fa-bars");
        }
      });
    });
  </script>
</body>

</html>