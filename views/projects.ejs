<div id="projects" class="bg-gray-800 max-h-screen text-gray-100 py-10 px-3 md:px-20 relative">
  <div class="mb-8 ">
    <h1 class="text-3xl md:text-4xl font-bold mb-2">Projects</h1>
    <div class="h-1 w-20 bg-blue-700 mb-2 rounded "></div>
    <p class="text-gray-400 max-w-2xl ">
      A selection of projects I have built using modern web technologies.
    </p>
  </div>

  <!-- Slider -->
  <div class="overflow-hidden">
    <div id="projects-track" class="flex transition-transform duration-700 ease-in-out"></div>
  </div>
  <!-- Arrows -->
  <button onclick="prevProject()"
    class="absolute left-5 top-1/2 transform -translate-y-1/2 bg-white text-gray-800 p-3 rounded-full shadow hover:bg-gray-200 z-10">
    <i class="fa-solid fa-arrow-left"></i>
  </button>

  <button onclick="nextProject()"
    class="absolute right-5 top-1/2 transform -translate-y-1/2 bg-white text-gray-800 p-3 rounded-full shadow hover:bg-gray-200 z-10">
    <i class="fa-solid fa-arrow-right"></i>
  </button>

  <!-- Bottom Note -->
  <p class="mt-8 text-sm text-gray-400 text-center max-w-3xl mx-auto">
    <em>Note: These projects are created to showcase my skills and experience. Production projects are not listed due to
      privacy reasons.</em>
  </p>
</div>

<script>
  const projects = [
    {
      title: "AI Interview System",
      subtitle: "AI + Automation",
      imageUrl: "/img/project image/aiinterview.png",
      description: "Automated interview platform that scores candidates using AI.",
      link: "#",
      tech: ["AI", "Gemini", "Node.js", "React", "MongoDB"]
    },
    {
      title: "GoGain",
      subtitle: "Fitness Platform",
      imageUrl: "/img/project image/gym.png",
      description: "Gym & fitness management system with trainers and transformations.",
      link: "#",
      tech: ["React", "Tailwind", "Php", "MySql"]
    },
    {
      title: "TechSphere",
      subtitle: "E-Commerce App",
      imageUrl: "/img/project image/techsphere.png",
      description: "Full-stack e-commerce with authentication and payments.",
      link: "#",
      tech: ["React", "Node.js", "MySQL", "Tailwind CSS"]
    },
    {
      title: "NewsApp",
      subtitle: "MERN Stack",
      imageUrl: "/img/project image/newsapp.png",
      description: "Dynamic news platform with protected routes and user profiles.",
      link: "#",
      tech: ["React", "Node.js", "Express", "MongoDB"]
    },
    {
      title: "IoT Dashboard",
      subtitle: "Smart Devices",
      imageUrl: "https://source.unsplash.com/600x400/?iot,technology",
      description: "Monitor and control IoT devices online.", 
      link: "#", 
      tech: ["IoT", "Node.js", "Express", "MySQL"]
    }
  ];

  let currentIndex = 0;

  function renderProjects() {
    const container = document.getElementById("projects-track");
    container.innerHTML = "";
    projects.forEach(project => {
      container.innerHTML += `
      <div class="p-4 shrink-0 w-full sm:w-1/2 md:w-1/3 transition-transform duration-500 ease-in-out">
        <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:scale-105 transition flex flex-col h-full">
          <img src="${project.imageUrl}" alt="${project.title}" class="w-full h-44 object-cover cursor-pointer bg-gray-700">
          <div class=" flex flex-col flex-grow p-4">
            <h2 class="text-xl font-semibold mb-1">${project.title}</h2>
            <p class="text-sm text-blue-400 mb-2">${project.subtitle}</p>
            <p class="text-gray-400 text-sm mb-4">${project.description}</p>
            <div class="flex flex-wrap gap-2 mb-4">
              ${project.tech.map(t => `<span class="bg-gray-700 text-gray-200 text-xs px-3 py-1 rounded-full">${t}</span>`).join("")}
            </div>
            <div class="mt-auto">
              <a href="${project.link}" target="_blank" class="text-blue-500 hover:underline font-medium">View Project</a>
            </div>
          </div>
        </div>
      </div>
    `;
    });
    updateSlide();
  }

  function getVisibleCount() {
    if (window.innerWidth >= 768) return 3; // desktop
    if (window.innerWidth >= 640) return 2; // tablet
    return 1; // mobile
  }

  function updateSlide() {
    const container = document.getElementById("projects-track");
    const visible = getVisibleCount();
    container.style.transform = `translateX(-${currentIndex * (100 / visible)}%)`;
  }

  function prevProject() {
    if (currentIndex > 0) currentIndex--;
    else currentIndex = projects.length - getVisibleCount();
    updateSlide();
  }

  function nextProject() {
    if (currentIndex < projects.length - getVisibleCount()) currentIndex++;
    else currentIndex = 0;
    updateSlide();
  }

  window.addEventListener("resize", updateSlide);
  window.onload = renderProjects;
</script>